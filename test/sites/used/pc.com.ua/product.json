{
  "product": {
    "info": {
      "author": "vladvons",
      "date": "2024.08.28 09:00:00",
      "url": [
        "https://pc.com.ua/ua/noutbuk-dell-latitude-5590-156-1920x1080-ips-intel-core-i7-8650u-4-8-yadra-po-19-42-ghz-16-gb-ddr4-256-gb-ssd-intel-uhd-graphics-620-webcam-win-10-pro-23015",
        "https://pc.com.ua/ua/noutbuk-hp-probook-640-g2-14-fullhd-i5-6200u-ram-8gb-ssd-128gb"
      ]
    },
    "pipe_schema": [
      ["app_json", [{"@type": "Product"}]],
      ["as_dict", {
        "name": [
          ["get", ["name"]]
        ],
        "brand": [
          ["gets", ["brand.name"]]
        ],
        "-stock": [
          ["gets", ["offers.availability"]],
          ["stock"]
        ],
        "image": [
          ["get", ["image"]],
          ["list", [0]]
        ],
        "price": [
          ["ext_price_app", [true]]
        ]
      }]
    ],
    "pipe_body": [
      ["find", ["div", {"class": "product-page"}]],
      ["as_dict", {
        "price_old": [
          ["find", ["div", {"class": "price-block"}]],
          ["find", ["div", {"class": "price-old"}]],
          ["text"],
          ["price"]
        ],
        "stock": [
          ["find", ["div", {"class": "page-stock"}]],
          ["text"],
          ["stock"]
        ],
        "category": [
          ["var_get", ["$root"]],
          ["find", ["ol", {"class": "breadcrumb"}]],
          ["breadcrumb", [["a"], -1]]
        ],
        "images": [
          ["find", ["div", {"id": "productGallery"}]],
          ["find_all", ["a"]],
          ["list_map", [
            ["get", ["href"]]
          ]]
        ],
        "features": [
          ["find", ["div", {"class": "characteristics-wrap"}]],
          ["find_all", ["div", {"class": "characteristics-item"}]],
          ["list_map", [
            ["text"],
            ["split_cr"]
          ]],
          ["keyval2dict"]
        ],
        "description": [
          ["find", ["section", {"class": "page-content"}]],
          ["text"],
          ["strip"]
        ]
      }]
    ]
  }
}
