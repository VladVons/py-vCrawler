{
  "product": {
    "info": {
      "author": "sernuzh",
      "date": "2024.09.19 18:00:00",
      "url": [
        "-https://www.cebit.pl/pl/p/HP-400-G5-USFFi5-9-GEN16-GB256-SSDWin-10-pro/93081",
        "https://www.cebit.pl/pl/p/Dell-Optiplex-7040-SFF-i7-67008gb512gb-SSD-Win-10-pro/96403"
      ]
    },
    "pipe_body": [
      ["find", ["div", {"itemtype": "https://schema.org/Product"}]],
      ["as_dict", {
        "name": [
          ["find", ["h1", {"class": "name"}]],
          ["text"],
          ["strip"]
        ],
        "stock":[
          ["find", ["div", {"class": "row availability"}]],
          ["find", ["span", {"class": "second"}]],
          ["text"],
          ["lower"],
          ["strip"],
          ["search_eq", ["na wyczerpaniu", "duża ilość"]]
        ],
        "images":[
          ["find", ["div", {"class": "smallgallery"}]],
          ["-find", ["ul", {"class": "r--l-flex"}]],
          ["find_all", ["link", {"itemprop": "image"}]],
          ["list_map", [
            ["get", ["href"]],
            ["url_pad"]
          ]]
        ],
        "image": [
          ["var_get", ["$images"]],
          ["list", [0]]
        ],
        "price": [
          ["find", ["div", {"class": "price"}]],
          ["find", ["em", {"class": "main-price"}]],
          ["text"],
          ["price"]
        ],
        "-todo": [
          ["там є прайс нетто , шо то таке хз. наступний код його знаходить"],
          ["find", ["i", {"class": "price-netto"}]],
          ["text"],
          ["price"]
        ],
        "features": [
          ["find", ["div", {"class": "product-attributes"}]],
          ["find", ["table", {"class": "table"}]],
          ["table"],
          ["keyval2dict", [0, 1]]
        ],
        "brand": [
          ["find", ["meta", {"itemprop": "brand"}]],
          ["get", ["content"]]
        ],
        "description": [
            ["find", ["div", {"id": "box_description"}]],
            ["find", ["div", {"itemprop": "description"}]],
            ["text"],
            ["strip"]
        ],
        "category": [
          ["var_get", ["$root"]],
          ["find", ["ul", {"itemtype": "https://schema.org/BreadcrumbList"}]],
          ["breadcrumb", [["span", {"itemprop": "name"}], -2]]
        ]
      }]
    ]
  }
}
